# Mac mini è¿æ¥åä¸ºæ‰‹æœºå®Œæ•´æŒ‡å—

## ğŸ“± ç¬¬ä¸€æ­¥ï¼šæ‰‹æœºç«¯è®¾ç½®ï¼ˆåä¸ºæ‰‹æœºï¼‰

### 1. å¯ç”¨å¼€å‘è€…æ¨¡å¼
1. æ‰“å¼€**è®¾ç½®**
2. æ‰¾åˆ°**å…³äºæ‰‹æœº**
3. è¿ç»­ç‚¹å‡»**ç‰ˆæœ¬å·** 7æ¬¡
4. è¾“å…¥é”å±å¯†ç 
5. æç¤º"æ‚¨å·²å¤„äºå¼€å‘è€…æ¨¡å¼"

### 2. å¯ç”¨ USB è°ƒè¯•
1. **è®¾ç½®** â†’ **ç³»ç»Ÿå’Œæ›´æ–°** â†’ **å¼€å‘äººå‘˜é€‰é¡¹**
2. æ‰“å¼€**"å¼€å‘äººå‘˜é€‰é¡¹"æ€»å¼€å…³**
3. æ‰“å¼€**"USB è°ƒè¯•"**
4. æ‰“å¼€**"ä»…å……ç”µæ¨¡å¼ä¸‹å…è®¸ ADB è°ƒè¯•"**ï¼ˆåä¸ºç‰¹æœ‰ï¼‰
5. æ‰“å¼€**"USB è°ƒè¯•ï¼ˆå®‰å…¨è®¾ç½®ï¼‰"**ï¼ˆå¦‚æœæœ‰ï¼‰

## ğŸ’» ç¬¬äºŒæ­¥ï¼šMac ç«¯å®‰è£… adb

### æ–¹å¼ Aï¼šä½¿ç”¨ Homebrew å®‰è£…ï¼ˆæ¨èï¼‰
```bash
# å¦‚æœè¿˜æ²¡è£… Homebrewï¼Œå…ˆå®‰è£…
/bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"

# å®‰è£… adb
brew install android-platform-tools

# éªŒè¯å®‰è£…
adb version
```

### æ–¹å¼ Bï¼šæ‰‹åŠ¨ä¸‹è½½å®‰è£…
1. è®¿é—®ï¼šhttps://developer.android.com/studio/releases/platform-tools
2. ä¸‹è½½ Mac ç‰ˆæœ¬
3. è§£å‹åˆ°æŸä¸ªç›®å½•ï¼Œä¾‹å¦‚ `~/android-tools/`
4. æ·»åŠ åˆ° PATHï¼š
```bash
echo 'export PATH=$PATH:~/android-tools/platform-tools' >> ~/.zshrc
source ~/.zshrc
```

## ğŸ”Œ ç¬¬ä¸‰æ­¥ï¼šè¿æ¥æ‰‹æœº

### 1. ç”¨æ•°æ®çº¿è¿æ¥
- ä½¿ç”¨**åŸè£…æ•°æ®çº¿**æˆ–æ”¯æŒæ•°æ®ä¼ è¾“çš„æ•°æ®çº¿
- è¿æ¥æ‰‹æœºå’Œ Mac mini

### 2. é€‰æ‹© USB è¿æ¥æ¨¡å¼
- æ‰‹æœºä¼šå¼¹å‡º"USB è¿æ¥æ–¹å¼"
- é€‰æ‹©**"ä¼ è¾“æ–‡ä»¶"**æˆ–**"MTP"**
- **ä¸è¦é€‰æ‹©"ä»…å……ç”µ"**

### 3. å…è®¸ USB è°ƒè¯•
- æ‰‹æœºä¼šå¼¹å‡º"å…è®¸USBè°ƒè¯•å—ï¼Ÿ"
- å‹¾é€‰**"ä¸€å¾‹å…è®¸ä½¿ç”¨è¿™å°è®¡ç®—æœºè¿›è¡Œè°ƒè¯•"**
- ç‚¹å‡»**"å…è®¸"**

### 4. éªŒè¯è¿æ¥
```bash
adb devices
```

**æˆåŠŸçš„è¾“å‡ºï¼š**
```
List of devices attached
ABC12345678    device
```

**å¯èƒ½çš„è¾“å‡ºï¼š**
- `unauthorized` â†’ æ‰‹æœºä¸Šç‚¹å‡»"å…è®¸"
- `offline` â†’ é‡å¯ adbï¼š`adb kill-server && adb start-server`
- æ²¡æœ‰è®¾å¤‡ â†’ æ£€æŸ¥æ•°æ®çº¿å’Œ USB æ¨¡å¼

## ğŸ” ç¬¬å››æ­¥ï¼šæŸ¥çœ‹ Hiddify æ—¥å¿—

### æ¸…é™¤æ—§æ—¥å¿—å¹¶å¼€å§‹ç›‘æ§
```bash
adb logcat -c
adb logcat | grep -E "A/BoxService|permission|socket|denied|CommandServer"
```

### æˆ–è€…ä¿å­˜æ—¥å¿—åˆ°æ–‡ä»¶
```bash
adb logcat > ~/Desktop/hiddify_log.txt
```

ç„¶ååœ¨æ‰‹æœºä¸Šæ“ä½œ Hiddifyï¼Œæ—¥å¿—ä¼šå®æ—¶æ˜¾ç¤ºåœ¨ç»ˆç«¯ã€‚

## ğŸ› ï¸ å¸¸è§é—®é¢˜è§£å†³

### é—®é¢˜ 1ï¼šMac æ— æ³•è¯†åˆ«åä¸ºæ‰‹æœº
**è§£å†³æ–¹æ¡ˆï¼š**
```bash
# é‡å¯ adb
adb kill-server
adb start-server
adb devices
```

### é—®é¢˜ 2ï¼šæç¤º "adb: command not found"
**è§£å†³æ–¹æ¡ˆï¼š**
```bash
# æ£€æŸ¥æ˜¯å¦å®‰è£…æˆåŠŸ
which adb

# å¦‚æœæ²¡æœ‰ï¼Œé‡æ–°å®‰è£…
brew install android-platform-tools
```

### é—®é¢˜ 3ï¼šè®¾å¤‡æ˜¾ç¤ºä¸º "unauthorized"
**è§£å†³æ–¹æ¡ˆï¼š**
- æ£€æŸ¥æ‰‹æœºå±å¹•æ˜¯å¦æœ‰å¼¹çª—
- æ–­å¼€é‡è¿æ•°æ®çº¿
- è¿è¡Œ `adb kill-server && adb start-server`

### é—®é¢˜ 4ï¼šåä¸ºæ‰‹æœºç‰¹æ®Šé™åˆ¶
**è§£å†³æ–¹æ¡ˆï¼š**
1. è®¾ç½® â†’ å®‰å…¨ â†’ æ›´å¤šå®‰å…¨è®¾ç½® â†’ å¤–éƒ¨æ¥æºåº”ç”¨æ£€æŸ¥ â†’ å…³é—­"çº¯å‡€æ¨¡å¼"
2. è®¾ç½® â†’ éšç§ â†’ ç‰¹æ®Šè®¿é—®æƒé™ â†’ å°† Hiddify è®¾ç½®ä¸ºä¿¡ä»»åº”ç”¨

## ğŸ“Š å…³é”®æ—¥å¿—ç¤ºä¾‹

### æ­£å¸¸å¯åŠ¨ï¼š
```
12-30 21:50:01.234  1234  1234 D A/BoxService: å¼€å§‹åˆå§‹åŒ–...
12-30 21:50:01.345  1234  1234 D A/BoxService: working dir: /data/data/app.hiddify.com/files/box_working
12-30 21:50:01.456  1234  1234 D A/BoxService: working dir canWrite: true
12-30 21:50:01.567  1234  1234 D A/BoxService: Mobile.setup() å®Œæˆ
12-30 21:50:01.678  1234  1234 D A/BoxService: âœ… CommandServer å¯åŠ¨æˆåŠŸ
12-30 21:50:02.789  1234  1234 D A/BoxService: æœåŠ¡å¯åŠ¨å®Œæˆ
```

### æƒé™é”™è¯¯ï¼š
```
12-30 21:50:01.234  1234  1234 E A/BoxService: âŒ CommandServer å¯åŠ¨å¤±è´¥: permission denied
12-30 21:50:01.345  1234  1234 E A/BoxService: è¿™æ˜¯æƒé™é”™è¯¯ï¼Œå·¥ä½œç›®å½•å¯èƒ½ä¸å¯å†™
12-30 21:50:01.456  1234  1234 E A/BoxService: working dir: /data/data/app.hiddify.com/files/box_working
12-30 21:50:01.567  1234  1234 E A/BoxService: exists: true, canWrite: false
```

## ğŸ¯ æ“ä½œæµç¨‹

1. **Mac æ‰“å¼€ç»ˆç«¯**
2. **è¿è¡Œ**: `adb devices` (ç¡®è®¤æ‰‹æœºå·²è¿æ¥)
3. **è¿è¡Œ**: `adb logcat -c` (æ¸…é™¤æ—§æ—¥å¿—)
4. **è¿è¡Œ**: `adb logcat | grep -E "A/BoxService|permission"` (ç›‘æ§æ—¥å¿—)
5. **æ‰‹æœºä¸Šæ“ä½œ**: æ‰“å¼€ Hiddify â†’ ç‚¹å‡»è¿æ¥
6. **è§‚å¯Ÿç»ˆç«¯è¾“å‡º**
7. **æŠŠæ—¥å¿—ä¿¡æ¯å‘ç»™æˆ‘**

## âœ… å¿«é€Ÿå‘½ä»¤å¤‡å¿˜

```bash
# 1. æ£€æŸ¥ adb æ˜¯å¦å®‰è£…
adb version

# 2. æ£€æŸ¥è®¾å¤‡è¿æ¥
adb devices

# 3. é‡å¯ adb
adb kill-server && adb start-server

# 4. æŸ¥çœ‹å®æ—¶æ—¥å¿—
adb logcat | grep -E "A/BoxService|permission|socket"

# 5. ä¿å­˜æ—¥å¿—åˆ°æ¡Œé¢
adb logcat > ~/Desktop/hiddify_debug.log
```

## ğŸ“ å¦‚æœé‡åˆ°é—®é¢˜

æŠŠä»¥ä¸‹ä¿¡æ¯å‘ç»™æˆ‘ï¼š
1. `adb devices` çš„è¾“å‡º
2. æ‰‹æœºå‹å·å’Œç³»ç»Ÿç‰ˆæœ¬
3. æ—¥å¿—ä¸­åŒ…å« "permission" æˆ– "denied" çš„è¡Œ

